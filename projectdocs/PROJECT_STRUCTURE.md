# Project Structure

Complete overview of The Learning Tablet project organization.

## ğŸ“ Directory Structure

```
thelearningtablet/
â”œâ”€â”€ projectdocs/                     # ğŸ“š All project documentation
â”‚   â”œâ”€â”€ README.md                    # Documentation index
â”‚   â”œâ”€â”€ QUICKSTART.md                # Quick start guide
â”‚   â”œâ”€â”€ TEST_COVERAGE.md             # Testing documentation
â”‚   â”œâ”€â”€ COMPONENT_ORGANIZATION.md    # Component architecture
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md         # This file
â”‚
â”œâ”€â”€ src/                             # ğŸ’» Source code
â”‚   â”œâ”€â”€ components/                  # Web components
â”‚   â”‚   â”œâ”€â”€ hid-data-reader/
â”‚   â”‚   â”‚   â”œâ”€â”€ hid-data-reader.ts
â”‚   â”‚   â”‚   â””â”€â”€ hid-data-reader.styles.ts
â”‚   â”‚   â”œâ”€â”€ bytes-display/
â”‚   â”‚   â”‚   â”œâ”€â”€ bytes-display.ts
â”‚   â”‚   â”‚   â””â”€â”€ bytes-display.styles.ts
â”‚   â”‚   â”œâ”€â”€ drawing-canvas/
â”‚   â”‚   â”‚   â”œâ”€â”€ drawing-canvas.ts
â”‚   â”‚   â”‚   â””â”€â”€ drawing-canvas.styles.ts
â”‚   â”‚   â””â”€â”€ ...                      # Other UI components
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                       # Utility modules
â”‚   â”‚   â”œâ”€â”€ data-helpers.ts          # Data parsing utilities
â”‚   â”‚   â”œâ”€â”€ event-emitter.ts         # Event system
â”‚   â”‚   â”œâ”€â”€ finddevice.ts            # Device discovery
â”‚   â”‚   â”œâ”€â”€ hid-reader.ts            # HID data reader
â”‚   â”‚   â””â”€â”€ byte-detector.ts         # Byte analysis
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                      # Data models
â”‚   â”‚   â””â”€â”€ config.ts                # Tablet configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ mockbytes/                   # Mock tablet simulation
â”‚   â”‚   â”œâ”€â”€ mock-tablet-device.ts
â”‚   â”‚   â”œâ”€â”€ tablet-data-generator.ts
â”‚   â”‚   â””â”€â”€ presets.ts
â”‚   â”‚
â”‚   â””â”€â”€ index.ts                     # Public API exports
â”‚
â”œâ”€â”€ test/                            # ğŸ§ª Test suites
â”‚   â”œâ”€â”€ unit/                        # Unit tests (Vitest)
â”‚   â”‚   â”œâ”€â”€ data-helpers.test.ts
â”‚   â”‚   â”œâ”€â”€ finddevice.test.ts
â”‚   â”‚   â””â”€â”€ hid-reader.test.ts
â”‚   â”œâ”€â”€ integration/                 # Integration tests (Playwright)
â”‚   â”‚   â”œâ”€â”€ app.spec.ts
â”‚   â”‚   â””â”€â”€ connection.spec.ts
â”‚   â””â”€â”€ setup.ts                     # Test configuration
â”‚
â”œâ”€â”€ dist/                            # ğŸ“¦ Build output (gitignored)
â”‚   â””â”€â”€ thelearningtablet.js
â”‚
â”œâ”€â”€ node_modules/                    # ğŸ“š Dependencies (gitignored)
â”‚
â”œâ”€â”€ index.html                       # ğŸŒ App entry point
â”œâ”€â”€ package.json                     # NPM configuration
â”œâ”€â”€ tsconfig.json                    # TypeScript config (dev)
â”œâ”€â”€ tsconfig.build.json              # TypeScript config (build)
â”œâ”€â”€ vite.config.ts                   # Vite configuration
â”œâ”€â”€ playwright.config.ts             # Playwright configuration
â”œâ”€â”€ .eslintrc.json                   # ESLint rules
â”œâ”€â”€ .gitignore                       # Git ignore rules
â””â”€â”€ README.md                        # Main project README
```

## ğŸ¯ Key Directories Explained

### `/projectdocs` ğŸ“š
**Purpose**: All project documentation in one place

**Contents**:
- Quick start guides
- Architecture documentation
- Testing guides
- This structure document

**Why separate?**: Keeps documentation organized and easy to navigate without cluttering the root directory.

### `/src` ğŸ’»
**Purpose**: All application source code

**Organization**:
- **`/components`** - LitElement web components, each in its own folder with separated styles
- **`/utils`** - Core services and utilities (device finder, HID reader, etc.)
- **`/models`** - TypeScript data models and configurations
- **`/mockbytes`** - Mock tablet device simulation for testing

**Why this structure?**: Separates UI components from business logic, making the codebase easier to maintain.

### `/src/components` ğŸ¨
**Purpose**: UI components built with LitElement

**Pattern**: Each component has:
- `component-name.ts` - Component logic
- `component-name.styles.ts` - Separated CSS styles

**Benefits**:
- Clear separation of concerns
- Easy to find and edit styles
- Reusable style patterns
- Better code organization

### `/test` ğŸ§ª
**Purpose**: All test files

**Organization**:
- **`/unit`** - Fast unit tests for individual functions/classes (Vitest)
- **`/integration`** - End-to-end tests for user flows (Playwright)
- **`setup.ts`** - Shared test configuration

**Naming Convention**:
- Unit tests: `*.test.ts`
- Integration tests: `*.spec.ts`

### `/dist` ğŸ“¦
**Purpose**: Production build output

**Generated by**: `npm run build`

**Contains**:
- Bundled JavaScript
- Type definitions
- Optimized assets

**Note**: This directory is gitignored and recreated on each build.

## ğŸ“„ Configuration Files

### TypeScript
- **`tsconfig.json`** - Development config (includes tests, has Vitest types)
- **`tsconfig.build.json`** - Production config (src only, optimized)

### Build Tools
- **`vite.config.ts`** - Dev server, build settings, Vitest configuration
- **`playwright.config.ts`** - Browser testing configuration
- **`.eslintrc.json`** - Code linting rules

### Package Management
- **`package.json`** - Dependencies and scripts
- **`package-lock.json`** - Locked dependency versions

## ğŸ”§ Build Artifacts

### Ignored by Git
- `*.js` - Compiled JavaScript
- `*.js.map` - Source maps
- `*.d.ts` - Type definitions
- `*.d.ts.map` - Type definition maps
- `/dist` - Build output
- `/coverage` - Test coverage reports
- `/node_modules` - Dependencies

### Why separate build configs?
- **Development** needs test types and broader includes
- **Production** needs clean, optimized output without test dependencies

## ğŸ¨ Component Architecture

### Component Pattern
```typescript
// component-name.ts
import { LitElement, html } from 'lit';
import { customElement } from 'lit/decorators.js';
import { styles } from './component-name.styles.js';

@customElement('component-name')
export class ComponentName extends LitElement {
  static styles = styles;
  // ... component logic
}
```

### Styles Pattern
```typescript
// component-name.styles.ts
import { css } from 'lit';

export const styles = css`
  :host {
    display: block;
  }
  // ... component styles
`;
```

## ğŸ§ª Testing Architecture

### Unit Tests (Vitest)
- **Location**: `test/unit/*.test.ts`
- **Purpose**: Test individual functions and classes
- **Speed**: Very fast (< 1 second total)
- **Scope**: Services, utilities, data helpers

### Integration Tests (Playwright)
- **Location**: `test/integration/*.spec.ts`
- **Purpose**: Test user interactions and component rendering
- **Speed**: Slower (starts real browser)
- **Scope**: UI components, user flows

## ğŸ“¦ Distribution

### Production Build
```bash
npm run build
```

**Outputs**:
- `dist/thelearningtablet.js` - Bundled library
- Type definitions for consumers

### Development
```bash
npm run dev
```

**Provides**:
- Hot module replacement
- Fast refresh
- Source maps
- Dev server on port 3000

## ğŸ” Finding Things

### "Where is the main component?"
â†’ `src/components/hid-data-reader/hid-data-reader.ts`

### "Where are the component styles?"
â†’ `src/components/component-name/component-name.styles.ts`

### "Where are the unit tests?"
â†’ `test/unit/module-name.test.ts`

### "Where is the documentation?"
â†’ `projectdocs/` folder

### "Where is the build output?"
â†’ `dist/` folder (generated, gitignored)

### "Where are the utility modules?"
â†’ `src/utils/` folder

## ğŸš€ Quick Commands

```bash
# Development
npm run dev              # Start dev server
npm test                 # Run unit tests
npm run test:ui          # Open Vitest UI

# Building
npm run build            # Production build
npm run preview          # Preview production build

# Testing
npm run test:coverage    # Test with coverage
npm run test:integration # Run Playwright tests

# Code Quality
npm run lint             # Lint TypeScript
npm run format           # Format code
```

## ğŸ“ Maintenance Tips

### Adding a New Component
1. Create folder: `src/components/new-component/`
2. Add files: `new-component.ts` and `new-component.styles.ts`
3. Import in parent component
4. Add tests if needed

### Adding Documentation
1. Create markdown file in `projectdocs/`
2. Add link to `projectdocs/README.md`
3. Update main `README.md` if major addition

### Adding Tests
- **Unit test**: Add to `test/unit/`
- **Integration test**: Add to `test/integration/`
- Follow naming convention (`.test.ts` vs `.spec.ts`)

---

**Last Updated**: January 2026
